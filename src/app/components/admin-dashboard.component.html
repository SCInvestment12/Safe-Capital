<div class="admin-wrapper">

  <!-- COMPROBANTES -->
  <h2>Comprobantes Pendientes</h2>
  <p *ngIf="loading">Cargando comprobantes...</p>
  <p *ngIf="!loading && comprobantes.length === 0">No hay comprobantes pendientes.</p>
  <table class="tabla-admin" *ngIf="!loading && comprobantes.length > 0">
    <thead>
      <tr>
        <th>ID</th><th>Correo</th><th>Archivo</th><th>Fecha</th><th>Estado</th><th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let c of comprobantes">
        <td>{{ c.id }}</td>
        <td>{{ c.usuario.correoElectronico }}</td>
        <td>
          <a [href]="'https://safe-capital-backend.onrender.com/uploads/' + c.nombreArchivo" target="_blank">
            Ver archivo
          </a>
        </td>
        <td>{{ c.fechaSubida | date:'short' }}</td>
        <td>{{ c.estado }}</td>
        <td>
          <button class="btn-aprobar" (click)="acreditarSaldo(c.id, c.usuario.correoElectronico)">
            Aprobar
          </button>
          <button class="btn-rechazar" (click)="rechazar(c.id)">
            Rechazar
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- CETES: TASA -->
  <h2 class="mt-4">Configurar Tasa de CETES (%)</h2>
  <div class="tasa-cetes-config">
    <input type="number" [(ngModel)]="tasaCetes" class="form-control" />
    <button class="btn-actualizar" (click)="actualizarTasaCetes()">
      Actualizar Tasa
    </button>
  </div>

  <!-- CETES: FECHA DE SUBASTA -->
  <h2 class="mt-4">Configurar Fecha de Subasta CETES</h2>
  <div class="tasa-cetes-config">
    <input type="datetime-local" [(ngModel)]="fechaSubastaNueva" class="form-control" />
    <small>Actual: {{ fechaSubasta }}</small>
    <button class="btn-actualizar" (click)="actualizarFechaSubasta()">
      Actualizar Fecha
    </button>
  </div>

  <!-- CONFIGURACIÓN BANCARIA -->
  <h2 class="mt-4">Configuración Bancaria</h2>
  <div class="tasa-cetes-config">
    <label>Banco:</label>
    <input type="text" [(ngModel)]="bancoNueva" class="form-control" />
    <button class="btn-actualizar" (click)="actualizarBanco()">Guardar Banco</button>
  </div>
  <div class="tasa-cetes-config">
    <label>Cuenta:</label>
    <input type="text" [(ngModel)]="cuentaNueva" class="form-control" />
    <button class="btn-actualizar" (click)="actualizarCuenta()">Guardar Cuenta</button>
  </div>
  <div class="tasa-cetes-config">
    <label>CLABE:</label>
    <input type="text" [(ngModel)]="clabeNueva" class="form-control" />
    <button class="btn-actualizar" (click)="actualizarClabe()">Guardar CLABE</button>
  </div>

</div>
