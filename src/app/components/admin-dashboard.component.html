<div class="admin-wrapper">
  <h2>Comprobantes Pendientes</h2>

  <p *ngIf="loading">Cargando comprobantes...</p>
  <p *ngIf="!loading && comprobantes.length === 0">No hay comprobantes pendientes.</p>

  <table class="tabla-admin" *ngIf="!loading && comprobantes.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Correo</th>
        <th>Archivo</th>
        <th>Fecha</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let c of comprobantes">
        <td>{{ c.id }}</td>
        <td>{{ c.usuario.correoElectronico }}</td>
        <td>
          <a [href]="'https://safe-capital-backend.onrender.com/uploads/' + c.nombreArchivo" target="_blank">
            Ver archivo ({{ c.nombreArchivo }})
          </a>
        </td>
        <td>{{ c.fechaSubida | date:'short' }}</td>
        <td>{{ c.estado }}</td>
        <td>
          <button class="btn-aprobar" (click)="acreditarSaldo(c.id, c.usuario.correoElectronico)">Aprobar</button>
          <button class="btn-rechazar" (click)="rechazar(c.id)">Rechazar</button>
        </td>
      </tr>
    </tbody>
  </table>

  <h2 class="mt-4">Configurar Tasa de CETES</h2>
  <div class="tasa-cetes-config">
    <label>Tasa de CETES (%):</label>
    <input type="number" [(ngModel)]="tasaCetes" class="form-control" />
    <button class="btn-actualizar" (click)="actualizarTasaCetes()">Actualizar Tasa</button>
  </div>

  <h2 class="mt-4">Editar CLABE Bancaria</h2>
  <div class="tasa-cetes-config">
    <label>CLABE actual:</label>
    <input type="text" [(ngModel)]="clabeNueva" class="form-control" />
    <button class="btn-actualizar" (click)="actualizarClabe()">Actualizar CLABE</button>
  </div>
</div>
