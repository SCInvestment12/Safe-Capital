<div class="acciones-container glass-card">
  <h2 class="titulo">Acciones M√°s Rentables</h2>

  <!-- Lista de acciones -->
  <div class="lista-acciones" *ngIf="!accionSeleccionada">
    <div *ngFor="let accion of acciones" class="card" (click)="verGraficaDesdeLista(accion)">
      <h3>{{ accion }}</h3>
      <p>Acci√≥n destacada</p>
      <button (click)="verGraficaDesdeLista(accion); $event.stopPropagation()">üìà Ver Gr√°fica</button>
    </div>
  </div>

  <!-- Gr√°fica -->
  <div class="grafica-accion grafica-fullscreen" *ngIf="accionSeleccionada && mostrarGrafica && !confirmacion">
    <div class="contenedor-chart">
      <app-chart-wrapper [tipo]="'acciones'" [simbolo]="accionSeleccionada"></app-chart-wrapper>
    </div>
  </div>

  <!-- Formulario de inversi√≥n -->
  <div *ngIf="accionSeleccionada && !confirmacion" class="formulario">
    <h3>Invertir en {{ accionSeleccionada }}</h3>

    <label>Monto (MXN):</label>
    <input type="number" [(ngModel)]="monto" placeholder="Ej. 1000" min="100" />

    <label>Plazo:</label>
    <select [(ngModel)]="plazo">
      <option value="30">30 d√≠as</option>
      <option value="60">60 d√≠as</option>
      <option value="90">90 d√≠as</option>
    </select>

    <div class="acciones">
      <button (click)="confirmarInversion()">Continuar</button>
      <button (click)="cancelar()" class="cancelar">Cancelar</button>
    </div>
  </div>

  <!-- Confirmaci√≥n -->
  <div *ngIf="confirmacion" class="confirmacion-cards">
    <h2>‚úÖ Confirmaci√≥n de compra</h2>
    <p>Tu inversi√≥n se registr√≥ exitosamente.</p>
    <ul>
      <li><strong>Acci√≥n:</strong> {{ accionSeleccionada }}</li>
      <li><strong>Monto:</strong> ${{ monto }}</li>
      <li><strong>Plazo:</strong> {{ plazo }} d√≠as</li>
      <li><strong>Forma de pago:</strong> Fondos en cuenta</li>
    </ul>
    <button class="btn-cancelar" (click)="cancelar()">Inicio</button>

    <!-- NUEVO: Mostrar movimientos -->
    <div *ngIf="movimientos.length > 0" class="movimientos">
      <h3>üìÑ Movimientos recientes</h3>
      <ul>
        <li *ngFor="let mov of movimientos">
          {{ mov.tipo }} | {{ mov.descripcion }} | {{ mov.moneda }} ${{ mov.monto }} | {{ mov.fecha | date:'short' }}
        </li>
      </ul>
    </div>
  </div>
</div>
