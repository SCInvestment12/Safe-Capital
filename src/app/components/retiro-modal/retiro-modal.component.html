<div class="modal-backdrop" (click)="cerrarModal()"></div>

<div class="modal-content" [ngClass]="{ 'reloj-activo': confirmado }">
  <button class="cerrar" (click)="cerrarModal()">‚úñ</button>
  <h2>Solicitar Retiro</h2>

  <!-- Formulario -->
  <div *ngIf="!confirmado && !rechazado">
    <label>Monto a retirar (MXN):</label>
    <input type="number" [(ngModel)]="monto" placeholder="Ej. 1000" min="1000" />

    <label>Titular de la cuenta:</label>
    <input type="text" [(ngModel)]="titular" placeholder="Nombre completo" readonly />

    <label>Banco:</label>
    <select [(ngModel)]="banco">
      <option value="" disabled selected>Selecciona un banco</option>
      <option *ngFor="let b of bancos" [value]="b">{{ b }}</option>
    </select>

    <label>CLABE / Cuenta / Tarjeta:</label>
    <input type="text" [(ngModel)]="cuenta" placeholder="18 d√≠gitos" maxlength="18" />

    <button class="btn-confirmar" (click)="solicitarRetiro()" [disabled]="!formularioValido()">
      üí∏ Solicitar Retiro
    </button>
  </div>

  <!-- Vista tipo reloj -->
  <div *ngIf="confirmado && !rechazado" class="mensaje-reloj">
    <h3>RETIRO EN PROCESO DE VALIDACI√ìN</h3>
    <div class="reloj-icono">üïí</div>
    <p class="reloj-texto">
      SU RETIRO SER√Å REFLEJADO EN SU CUENTA SELECCIONADA AL CONCLUIR EL PROCESO DE VALIDACI√ìN EN UN LAPSO
      APROXIMADO DE 60 MINUTOS EN D√çAS H√ÅBILES
    </p>
  </div>

  <!-- Mensaje final (saldo restaurado) -->
  <div *ngIf="rechazado" class="mensaje-rechazo">
    <p>‚ùå Retiro rechazado por el sistema. Intenta m√°s tarde o contacta a soporte.</p>
  </div>
</div>
