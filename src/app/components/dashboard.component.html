<app-navbar></app-navbar>

<div class="dashboard">
  <p class="intro-text">Mis Instrumentos de inversión con mayor seguridad y rentabilidad.</p>

  <!-- Tabs de tipo de activo -->
  <div class="top5-tabs">
    <div class="tab-buttons">
      <button *ngFor="let tipo of tiposActivos"
              [class.active]="tipoActivoSeleccionado === tipo"
              (click)="cambiarTab(tipo)">
        {{ tipo | titlecase }}
      </button>
    </div>
  </div>

  <!-- Render dinámico del componente según selección -->
  <div class="contenedor-activo animate__animated animate__fadeIn">
    <app-etfs-compra *ngIf="tipoActivoSeleccionado === 'etfs'"
                     (seleccionarInstrumento)="cambiarInstrumento($event)"></app-etfs-compra>

    <app-acciones-compra *ngIf="tipoActivoSeleccionado === 'acciones'"
                         (seleccionarInstrumento)="cambiarInstrumento($event)"></app-acciones-compra>

    <app-cetes-compra *ngIf="tipoActivoSeleccionado === 'cetes'"
                      (seleccionarInstrumento)="cambiarInstrumento($event)"></app-cetes-compra>

    <app-cripto-compra *ngIf="tipoActivoSeleccionado === 'cripto'"
                       (seleccionarInstrumento)="cambiarInstrumento($event)"></app-cripto-compra>

    <app-forex-compra *ngIf="tipoActivoSeleccionado === 'forex'"
                      (seleccionarInstrumento)="cambiarInstrumento($event)"></app-forex-compra>
  </div>

  <!-- Mostrar la gráfica si se ha seleccionado un instrumento distinto de CETES -->
  <div *ngIf="instrumentoSeleccionado && instrumentoSeleccionado.tipo !== 'cetes'" class="grafica animate__animated animate__fadeInUp">
    <app-chart-wrapper
      [tipo]="instrumentoSeleccionado.tipo"
      [simbolo]="instrumentoSeleccionado.simbolo">
    </app-chart-wrapper>
  </div>
</div>